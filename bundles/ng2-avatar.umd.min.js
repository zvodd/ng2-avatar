!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core"],e):e(t.ng2Avatar={},t.ng.common,t.ng.core)}(this,function(t,e,a){"use strict";var n=function(){function i(){}return i.AddUnsigned=function(t,e){var a,n,r,d,o;return r=2147483648&t,d=2147483648&e,o=(1073741823&t)+(1073741823&e),(a=1073741824&t)&(n=1073741824&e)?2147483648^o^r^d:a|n?1073741824&o?3221225472^o^r^d:1073741824^o^r^d:o^r^d},i.FF=function(t,e,a,n,r,d,o){return t=i.AddUnsigned(t,i.AddUnsigned(i.AddUnsigned(i.F(e,a,n),r),o)),i.AddUnsigned(i.RotateLeft(t,d),e)},i.GG=function(t,e,a,n,r,d,o){return t=i.AddUnsigned(t,i.AddUnsigned(i.AddUnsigned(i.G(e,a,n),r),o)),i.AddUnsigned(i.RotateLeft(t,d),e)},i.HH=function(t,e,a,n,r,d,o){return t=i.AddUnsigned(t,i.AddUnsigned(i.AddUnsigned(i.H(e,a,n),r),o)),i.AddUnsigned(i.RotateLeft(t,d),e)},i.II=function(t,e,a,n,r,d,o){return t=i.AddUnsigned(t,i.AddUnsigned(i.AddUnsigned(i.I(e,a,n),r),o)),i.AddUnsigned(i.RotateLeft(t,d),e)},i.ConvertToWordArray=function(t){for(var e,a=t.length,n=a+8,r=16*((n-n%64)/64+1),d=Array(r-1),o=0,i=0;i<a;)o=i%4*8,d[e=(i-i%4)/4]=d[e]|t.charCodeAt(i)<<o,i++;return o=i%4*8,d[e=(i-i%4)/4]=d[e]|128<<o,d[r-2]=a<<3,d[r-1]=a>>>29,d},i.WordToHex=function(t){var e,a="",n="";for(e=0;e<=3;e++)a+=(n="0"+(t>>>8*e&255).toString(16)).substr(n.length-2,2);return a},i.Utf8Encode=function(t){var e,a="";t=t.replace(/\r\n/g,"\n");for(var n=0;n<t.length;n++)(e=t.charCodeAt(n))<128?a+=String.fromCharCode(e):(127<e&&e<2048?a+=String.fromCharCode(e>>6|192):(a+=String.fromCharCode(e>>12|224),a+=String.fromCharCode(e>>6&63|128)),a+=String.fromCharCode(63&e|128));return a},i.init=function(t){for("string"!=typeof t&&(t=JSON.stringify(t)),i.string=i.Utf8Encode(t),i.x=i.ConvertToWordArray(i.string),i.a=1732584193,i.b=4023233417,i.c=2562383102,i.d=271733878,i.k=0;i.k<i.x.length;i.k+=16)i.AA=i.a,i.BB=i.b,i.CC=i.c,i.DD=i.d,i.a=i.FF(i.a,i.b,i.c,i.d,i.x[i.k],i.S11,3614090360),i.d=i.FF(i.d,i.a,i.b,i.c,i.x[i.k+1],i.S12,3905402710),i.c=i.FF(i.c,i.d,i.a,i.b,i.x[i.k+2],i.S13,606105819),i.b=i.FF(i.b,i.c,i.d,i.a,i.x[i.k+3],i.S14,3250441966),i.a=i.FF(i.a,i.b,i.c,i.d,i.x[i.k+4],i.S11,4118548399),i.d=i.FF(i.d,i.a,i.b,i.c,i.x[i.k+5],i.S12,1200080426),i.c=i.FF(i.c,i.d,i.a,i.b,i.x[i.k+6],i.S13,2821735955),i.b=i.FF(i.b,i.c,i.d,i.a,i.x[i.k+7],i.S14,4249261313),i.a=i.FF(i.a,i.b,i.c,i.d,i.x[i.k+8],i.S11,1770035416),i.d=i.FF(i.d,i.a,i.b,i.c,i.x[i.k+9],i.S12,2336552879),i.c=i.FF(i.c,i.d,i.a,i.b,i.x[i.k+10],i.S13,4294925233),i.b=i.FF(i.b,i.c,i.d,i.a,i.x[i.k+11],i.S14,2304563134),i.a=i.FF(i.a,i.b,i.c,i.d,i.x[i.k+12],i.S11,1804603682),i.d=i.FF(i.d,i.a,i.b,i.c,i.x[i.k+13],i.S12,4254626195),i.c=i.FF(i.c,i.d,i.a,i.b,i.x[i.k+14],i.S13,2792965006),i.b=i.FF(i.b,i.c,i.d,i.a,i.x[i.k+15],i.S14,1236535329),i.a=i.GG(i.a,i.b,i.c,i.d,i.x[i.k+1],i.S21,4129170786),i.d=i.GG(i.d,i.a,i.b,i.c,i.x[i.k+6],i.S22,3225465664),i.c=i.GG(i.c,i.d,i.a,i.b,i.x[i.k+11],i.S23,643717713),i.b=i.GG(i.b,i.c,i.d,i.a,i.x[i.k],i.S24,3921069994),i.a=i.GG(i.a,i.b,i.c,i.d,i.x[i.k+5],i.S21,3593408605),i.d=i.GG(i.d,i.a,i.b,i.c,i.x[i.k+10],i.S22,38016083),i.c=i.GG(i.c,i.d,i.a,i.b,i.x[i.k+15],i.S23,3634488961),i.b=i.GG(i.b,i.c,i.d,i.a,i.x[i.k+4],i.S24,3889429448),i.a=i.GG(i.a,i.b,i.c,i.d,i.x[i.k+9],i.S21,568446438),i.d=i.GG(i.d,i.a,i.b,i.c,i.x[i.k+14],i.S22,3275163606),i.c=i.GG(i.c,i.d,i.a,i.b,i.x[i.k+3],i.S23,4107603335),i.b=i.GG(i.b,i.c,i.d,i.a,i.x[i.k+8],i.S24,1163531501),i.a=i.GG(i.a,i.b,i.c,i.d,i.x[i.k+13],i.S21,2850285829),i.d=i.GG(i.d,i.a,i.b,i.c,i.x[i.k+2],i.S22,4243563512),i.c=i.GG(i.c,i.d,i.a,i.b,i.x[i.k+7],i.S23,1735328473),i.b=i.GG(i.b,i.c,i.d,i.a,i.x[i.k+12],i.S24,2368359562),i.a=i.HH(i.a,i.b,i.c,i.d,i.x[i.k+5],i.S31,4294588738),i.d=i.HH(i.d,i.a,i.b,i.c,i.x[i.k+8],i.S32,2272392833),i.c=i.HH(i.c,i.d,i.a,i.b,i.x[i.k+11],i.S33,1839030562),i.b=i.HH(i.b,i.c,i.d,i.a,i.x[i.k+14],i.S34,4259657740),i.a=i.HH(i.a,i.b,i.c,i.d,i.x[i.k+1],i.S31,2763975236),i.d=i.HH(i.d,i.a,i.b,i.c,i.x[i.k+4],i.S32,1272893353),i.c=i.HH(i.c,i.d,i.a,i.b,i.x[i.k+7],i.S33,4139469664),i.b=i.HH(i.b,i.c,i.d,i.a,i.x[i.k+10],i.S34,3200236656),i.a=i.HH(i.a,i.b,i.c,i.d,i.x[i.k+13],i.S31,681279174),i.d=i.HH(i.d,i.a,i.b,i.c,i.x[i.k],i.S32,3936430074),i.c=i.HH(i.c,i.d,i.a,i.b,i.x[i.k+3],i.S33,3572445317),i.b=i.HH(i.b,i.c,i.d,i.a,i.x[i.k+6],i.S34,76029189),i.a=i.HH(i.a,i.b,i.c,i.d,i.x[i.k+9],i.S31,3654602809),i.d=i.HH(i.d,i.a,i.b,i.c,i.x[i.k+12],i.S32,3873151461),i.c=i.HH(i.c,i.d,i.a,i.b,i.x[i.k+15],i.S33,530742520),i.b=i.HH(i.b,i.c,i.d,i.a,i.x[i.k+2],i.S34,3299628645),i.a=i.II(i.a,i.b,i.c,i.d,i.x[i.k],i.S41,4096336452),i.d=i.II(i.d,i.a,i.b,i.c,i.x[i.k+7],i.S42,1126891415),i.c=i.II(i.c,i.d,i.a,i.b,i.x[i.k+14],i.S43,2878612391),i.b=i.II(i.b,i.c,i.d,i.a,i.x[i.k+5],i.S44,4237533241),i.a=i.II(i.a,i.b,i.c,i.d,i.x[i.k+12],i.S41,1700485571),i.d=i.II(i.d,i.a,i.b,i.c,i.x[i.k+3],i.S42,2399980690),i.c=i.II(i.c,i.d,i.a,i.b,i.x[i.k+10],i.S43,4293915773),i.b=i.II(i.b,i.c,i.d,i.a,i.x[i.k+1],i.S44,2240044497),i.a=i.II(i.a,i.b,i.c,i.d,i.x[i.k+8],i.S41,1873313359),i.d=i.II(i.d,i.a,i.b,i.c,i.x[i.k+15],i.S42,4264355552),i.c=i.II(i.c,i.d,i.a,i.b,i.x[i.k+6],i.S43,2734768916),i.b=i.II(i.b,i.c,i.d,i.a,i.x[i.k+13],i.S44,1309151649),i.a=i.II(i.a,i.b,i.c,i.d,i.x[i.k+4],i.S41,4149444226),i.d=i.II(i.d,i.a,i.b,i.c,i.x[i.k+11],i.S42,3174756917),i.c=i.II(i.c,i.d,i.a,i.b,i.x[i.k+2],i.S43,718787259),i.b=i.II(i.b,i.c,i.d,i.a,i.x[i.k+9],i.S44,3951481745),i.a=i.AddUnsigned(i.a,i.AA),i.b=i.AddUnsigned(i.b,i.BB),i.c=i.AddUnsigned(i.c,i.CC),i.d=i.AddUnsigned(i.d,i.DD);return(i.WordToHex(i.a)+i.WordToHex(i.b)+i.WordToHex(i.c)+i.WordToHex(i.d)).toLowerCase()},i.x=Array(),i.S11=7,i.S12=12,i.S13=17,i.S14=22,i.S21=5,i.S22=9,i.S23=14,i.S24=20,i.S31=4,i.S32=11,i.S33=16,i.S34=23,i.S41=6,i.S42=10,i.S43=15,i.S44=21,i.RotateLeft=function(t,e){return t<<e|t>>>32-e},i.F=function(t,e,a){return t&e|~t&a},i.G=function(t,e,a){return t&a|e&~a},i.H=function(t,e,a){return t^e^a},i.I=function(t,e,a){return e^(t|~a)},i}(),r=function(){function t(){this.size=100,this.useSize=!0,this.background=this.getRandomColor(),this.displayType="none",this.letter="?",this.defaultProtocol=null,this.displayImage=!0,this.fontSize=49,this.fontColor="#FFFFFF",this.props=null}return t.prototype.getRandomColor=function(){for(var t="0123456789ABCDEF".split(""),e="#",a=0;a<6;a++)e+=t[Math.floor(16*Math.random())];return e},t.prototype.getLetter=function(){if(this.name&&this.name.length){var t=this.name.match(/\b(\w)/g).slice(0,3).join("");this.letter=t.toUpperCase()}else if(this.email&&this.email.length){var e=this.email.split("@")[0].match(/\b(\w)/g).slice(0,3).join("");this.letter=e.toUpperCase()}},t.prototype.getAvatar=function(){if(this.email&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)){var t=n.init(this.email),e=this.defaultProtocol?this.defaultProtocol+":":"";this.gravatarUrl=e+"//www.gravatar.com/avatar/"+t+"?s="+this.size+"&d=404",this.displayImage=!0}else this.displayImage=!1},t.prototype.setCssProps=function(){switch(this.fontSize=39*this.size/100,this.props={size:this.useSize?this.size+"px":"",lineheight:this.useSize?this.size+"px":"",background:this.background,fontSize:this.useSize?this.fontSize+"px":""},this.displayType){case"rounded":this.props.borderradius="5%";break;case"circle":this.props.borderradius="50%";break;default:this.props.borderradius="0"}},t.prototype.ngOnInit=function(){this.setCssProps(),this.getLetter(),this.getAvatar()},t.prototype.ngOnChanges=function(){this.getAvatar(),this.getLetter()},t.decorators=[{type:a.Component,args:[{selector:"avatar",template:'\n    <div class="avatar"\n         *ngIf="props"\n         [style.background-color]=\'props.background\'\n         [style.width]="props.size"\n         [style.line-height]="props.lineheight"\n         [style.height]="props.size"\n         [style.font-size]="props.fontSize"\n         [style.border-radius]="props.borderradius">\n          <img *ngIf="displayImage"\n               [src]="gravatarUrl"\n               (error)="displayImage = false;"\n               alt="{{name}} | {{letter}}"/>\n          <span *ngIf="!displayImage" [style.color]=\'fontColor\'>{{letter}}</span>\n    </div>\n  ',styles:["\n    .avatar{text-align:center;overflow:hidden}.avatar img{vertical-align:top}\n  "]}]}],t.ctorParameters=[],t.propDecorators={email:[{type:a.Input,args:["email"]}],name:[{type:a.Input,args:["name"]}],size:[{type:a.Input,args:["size"]}],useSize:[{type:a.Input,args:["useSize"]}],background:[{type:a.Input,args:["background"]}],displayType:[{type:a.Input,args:["displayType"]}],letter:[{type:a.Input,args:["letter"]}],defaultProtocol:[{type:a.Input,args:["defaultProtocol"]}]},t}(),d=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:a.NgModule,args:[{imports:[e.CommonModule],exports:[r],declarations:[r]}]}],t.ctorParameters=[],t}();t.AvatarModule=d,t.AvatarComponent=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-avatar.umd.min.js.map
